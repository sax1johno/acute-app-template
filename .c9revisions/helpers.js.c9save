{"ts":1351803300473,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var _ = require('underscore');\nvar locales = require('./locales');\nvar markdown = require('markdown').markdown\n\nvar request = function(req){\n      return req;\n    };\n\nvar hasMessages = function(req){\n      if (!req.session) return false;\n      return Object.keys(req.session.flash || {}).length;\n    };\n\nvar messages = function(req){\n      return function(){\n        var msgs = req.flash();\n        console.log(msgs);\n        /*\n        return Object.keys(msgs).reduce(function(arr, type){\n          return arr.concat(msgs[type]);\n        }, []);\n        */\n        return msgs;\n      };\n    };\n\nvar role = function(req, res) {\n    if (_.isNull(req.session.role) || _.isUndefined(req.session.role)) {\n        return null;\n    }\n    return req.session.role;\n};\n\nvar navActive = function(req, res) {\n  res.locals.navActive = function(title, url){\n    return req.url == url\n      ? 'class=\"active\">'\n      : '>';\n  }\n};\n\nvar md = function(markdownText) {\n    return markdown.toHTML(markdownText);\n}\n\n/**\n * Ordinal returns a number in ordinal form (ie: 1st, 2nd, 3rd, etc).\n * @param number the number to be ordinated.\n **/\nvar ordinal = function(number) {\n    if (10 < number && number < 14) return number + 'th';\n    switch (number % 10) {\n        case 1: return number + 'st';\n        case 2: return number + 'nd';\n        case 3: return number + 'rd';\n        default: return number + 'th';\n    }\n};\n\n\nmodule.exports = {\n    dynamicHelpers: {\n        navActive: navActive,\n        request: request,\n        hasMessages: hasMessages,\n        messages: messages,\n        role: role\n    },\n    staticHelpers: {\n        x: locales.x,\n        markdown: md,\n        ordinal: ordinal\n    }\n}"]],"start1":0,"start2":0,"length1":0,"length2":1685}]],"length":1685}
{"contributors":[],"silentsave":false,"ts":1353109160877,"patch":[[{"diffs":[[0,"score');"],[1,"\r"],[0,"\nvar loc"]],"start1":22,"start2":22,"length1":16,"length2":17},{"diffs":[[0,"cales');"],[1,"\r"],[0,"\nvar mar"]],"start1":59,"start2":59,"length1":16,"length2":17},{"diffs":[[0,"markdown"],[-1,"\n"],[1,"\r\n\r"],[0,"\nvar req"]],"start1":104,"start2":104,"length1":17,"length2":19},{"diffs":[[0,"= function(req){"],[1,"\r"],[0,"\n      return re"]],"start1":128,"start2":128,"length1":32,"length2":33},{"diffs":[[0,"urn req;"],[1,"\r"],[0,"\n    };"],[-1,"\n"],[1,"\r\n\r"],[0,"\nvar has"]],"start1":155,"start2":155,"length1":24,"length2":27},{"diffs":[[0,"nction(req){"],[1,"\r"],[0,"\n      if (!"]],"start1":195,"start2":195,"length1":24,"length2":25},{"diffs":[[0,"n false;"],[1,"\r"],[0,"\n      r"]],"start1":238,"start2":238,"length1":16,"length2":17},{"diffs":[[0,".length;"],[1,"\r"],[0,"\n    };"],[-1,"\n"],[1,"\r\n\r"],[0,"\nvar mes"]],"start1":297,"start2":297,"length1":24,"length2":27},{"diffs":[[0,"on(req){"],[1,"\r"],[0,"\n      r"]],"start1":338,"start2":338,"length1":16,"length2":17},{"diffs":[[0,"ction(){"],[1,"\r"],[0,"\n       "]],"start1":364,"start2":364,"length1":16,"length2":17},{"diffs":[[0,"flash();"],[1,"\r"],[0,"\n       "]],"start1":397,"start2":397,"length1":16,"length2":17},{"diffs":[[0,"g(msgs);"],[1,"\r"],[0,"\n       "]],"start1":425,"start2":425,"length1":16,"length2":17},{"diffs":[[0,"      /*"],[1,"\r"],[0,"\n       "]],"start1":437,"start2":437,"length1":16,"length2":17},{"diffs":[[0,", type){"],[1,"\r"],[0,"\n       "]],"start1":499,"start2":499,"length1":16,"length2":17},{"diffs":[[0,"[type]);"],[1,"\r"],[0,"\n       "]],"start1":541,"start2":541,"length1":16,"length2":17},{"diffs":[[0," }, []);"],[1,"\r"],[0,"\n       "]],"start1":558,"start2":558,"length1":16,"length2":17},{"diffs":[[0,"      */"],[1,"\r"],[0,"\n       "]],"start1":570,"start2":570,"length1":16,"length2":17},{"diffs":[[0,"rn msgs;"],[1,"\r"],[0,"\n      }"]],"start1":592,"start2":592,"length1":16,"length2":17},{"diffs":[[0,"  };"],[1,"\r"],[0,"\n    };"],[-1,"\n"],[1,"\r\n\r"],[0,"\nvar"]],"start1":606,"start2":606,"length1":16,"length2":19},{"diffs":[[0,", res) {"],[1,"\r"],[0,"\n    if "]],"start1":645,"start2":645,"length1":16,"length2":17},{"diffs":[[0,"role)) {"],[1,"\r"],[0,"\n       "]],"start1":719,"start2":719,"length1":16,"length2":17},{"diffs":[[0,"rn null;"],[1,"\r"],[0,"\n    }"],[1,"\r"],[0,"\n    ret"]],"start1":741,"start2":741,"length1":22,"length2":24},{"diffs":[[0,"on.role;"],[1,"\r"],[0,"\n};"],[-1,"\n"],[1,"\r\n\r"],[0,"\nvar nav"]],"start1":778,"start2":778,"length1":20,"length2":23},{"diffs":[[0,", res) {"],[1,"\r"],[0,"\n  res.l"]],"start1":822,"start2":822,"length1":16,"length2":17},{"diffs":[[0,"e, url){"],[1,"\r"],[0,"\n    ret"]],"start1":870,"start2":870,"length1":16,"length2":17},{"diffs":[[0,"l == url"],[1,"\r"],[0,"\n      ?"]],"start1":897,"start2":897,"length1":16,"length2":17},{"diffs":[[0,"ctive\">'"],[1,"\r"],[0,"\n      :"]],"start1":924,"start2":924,"length1":16,"length2":17},{"diffs":[[0,"'>';"],[1,"\r"],[0,"\n  }"],[1,"\r"],[0,"\n};"],[-1,"\n"],[1,"\r\n\r"],[0,"\nvar"]],"start1":942,"start2":942,"length1":16,"length2":20},{"diffs":[[0,"nText) {"],[1,"\r"],[0,"\n    ret"]],"start1":984,"start2":984,"length1":16,"length2":17},{"diffs":[[0,"xt);"],[1,"\r"],[0,"\n}"],[-1,"\n"],[1,"\r\n\r"],[0,"\n/**"],[1,"\r"],[0,"\n * "]],"start1":1031,"start2":1031,"length1":15,"length2":19},{"diffs":[[0,"d, etc)."],[1,"\r"],[0,"\n * @par"]],"start1":1108,"start2":1108,"length1":16,"length2":17},{"diffs":[[0,"ted."],[1,"\r"],[0,"\n **/"],[1,"\r"],[0,"\nvar"]],"start1":1158,"start2":1158,"length1":13,"length2":15},{"diffs":[[0,"umber) {"],[1,"\r"],[0,"\n    if "]],"start1":1194,"start2":1194,"length1":16,"length2":17},{"diffs":[[0,"mber + 'th';"],[1,"\r"],[0,"\n    switch "]],"start1":1249,"start2":1249,"length1":24,"length2":25},{"diffs":[[0," % 10) {"],[1,"\r"],[0,"\n       "]],"start1":1281,"start2":1281,"length1":16,"length2":17},{"diffs":[[0," + 'st';"],[1,"\r"],[0,"\n       "]],"start1":1320,"start2":1320,"length1":16,"length2":17},{"diffs":[[0," + 'nd';"],[1,"\r"],[0,"\n       "]],"start1":1359,"start2":1359,"length1":16,"length2":17},{"diffs":[[0," + 'rd';"],[1,"\r"],[0,"\n       "]],"start1":1398,"start2":1398,"length1":16,"length2":17},{"diffs":[[0,"th';"],[1,"\r"],[0,"\n    }"],[1,"\r"],[0,"\n};"],[-1,"\n\n"],[1,"\r\n\r\n\r"],[0,"\nmod"]],"start1":1442,"start2":1442,"length1":19,"length2":24},{"diffs":[[0,"orts = {"],[1,"\r"],[0,"\n    dyn"]],"start1":1473,"start2":1473,"length1":16,"length2":17},{"diffs":[[0,"ynamicHelpers: {"],[1,"\r"],[0,"\n        navActi"]],"start1":1488,"start2":1488,"length1":32,"length2":33},{"diffs":[[0,"vActive,"],[1,"\r"],[0,"\n       "]],"start1":1527,"start2":1527,"length1":16,"length2":17},{"diffs":[[0,"request,"],[1,"\r"],[0,"\n       "]],"start1":1554,"start2":1554,"length1":16,"length2":17},{"diffs":[[0,"es: hasMessages,"],[1,"\r"],[0,"\n        message"]],"start1":1581,"start2":1581,"length1":32,"length2":33},{"diffs":[[0,"essages,"],[1,"\r"],[0,"\n       "]],"start1":1618,"start2":1618,"length1":16,"length2":17},{"diffs":[[0,"role"],[1,"\r"],[0,"\n    },"],[1,"\r"],[0,"\n   "]],"start1":1642,"start2":1642,"length1":15,"length2":17},{"diffs":[[0,"lpers: {"],[1,"\r"],[0,"\n       "]],"start1":1668,"start2":1668,"length1":16,"length2":17},{"diffs":[[0,"cales.x,"],[1,"\r"],[0,"\n       "]],"start1":1691,"start2":1691,"length1":16,"length2":17},{"diffs":[[0,"own: md,"],[1,"\r"],[0,"\n       "]],"start1":1714,"start2":1714,"length1":16,"length2":17},{"diffs":[[0," ordinal"],[1,"\r"],[0,"\n    }"],[1,"\r"],[0,"\n}"]],"start1":1740,"start2":1740,"length1":16,"length2":18}]],"length":1758,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353112996125,"patch":[[{"diffs":[[0,"\r\n};\r\n\r\n"],[-1,"\r\n"],[0,"module.e"]],"start1":1453,"start2":1453,"length1":18,"length2":16}]],"length":1756,"saved":false}
{"ts":1353113066116,"patch":[[{"diffs":[[0,"      re"],[-1,"turn"],[1,"s.locals.role ="],[0," null;\r\n"]],"start1":731,"start2":731,"length1":20,"length2":31},{"diffs":[[0,"   }\r\n    re"],[-1,"turn"],[1,"s.locals.role ="],[0," req.session"]],"start1":763,"start2":763,"length1":28,"length2":39}]],"length":1778,"saved":false}
{"ts":1353113094933,"patch":[[{"diffs":[[0,"s = function(req"],[1,", res"],[0,"){\r\n      return"]],"start1":328,"start2":328,"length1":32,"length2":37}]],"length":1783,"saved":false}
{"ts":1353113113603,"patch":[[{"diffs":[[0,"      re"],[-1,"turn"],[1,"s.locals.msgs ="],[0," functio"]],"start1":353,"start2":353,"length1":20,"length2":31}]],"length":1794,"saved":false}
{"ts":1353113179172,"patch":[[{"diffs":[[0,"function(req"],[1,", res"],[0,"){\r\n"],[-1,"  "],[0,"    if (!req"]],"start1":193,"start2":193,"length1":30,"length2":33},{"diffs":[[0,"on) "],[-1,"return false;\r\n      return"],[1,"{\r\n        res.locals.hasMessages = false;\r\n    } else {\r\n        res.locals.hasMessages ="],[0," Obj"]],"start1":232,"start2":232,"length1":35,"length2":98},{"diffs":[[0,"ength;\r\n    "],[1,"}\r\n"],[0,"};\r\n\r\nvar me"]],"start1":365,"start2":365,"length1":24,"length2":27}]],"length":1863,"saved":false}
{"ts":1353113204357,"patch":[[{"diffs":[[0," res){\r\n    "],[-1,"  "],[0,"res.locals.m"]],"start1":414,"start2":414,"length1":26,"length2":24},{"diffs":[[0,"    "],[-1,"  "],[0,"};\r\n"],[-1,"    "],[0,"};\r\n"]],"start1":685,"start2":685,"length1":18,"length2":12}]],"length":1855,"saved":false}
{"ts":1353113261438,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"/**\r\n * Ordinal returns a number in ordinal form (ie: 1st, 2nd, 3rd, etc).\r\n * @param number the number to be ordinated.\r\n **/\r\nvar ordinal = function(number) {\r\n    if (10 < number && number < 14) return number + 'th';\r\n    switch (number % 10) {\r\n        case 1: return number + 'st';\r\n        case 2: return number + 'nd';\r\n        case 3: return number + 'rd';\r\n        default: return number + 'th';\r\n    }\r\n};\r\n\r\n"],[0,"modu"]],"start1":1137,"start2":1137,"length1":427,"length2":8},{"diffs":[[0,": md"],[-1,",\r\n        ordinal: ordinal"],[0,"\r\n  "]],"start1":1395,"start2":1395,"length1":35,"length2":8}]],"length":1409,"saved":false}
{"ts":1353113301857,"patch":[[{"diffs":[[0,";\r\n}\r\n\r\n"],[1,"var x = function(req, res) {\r\n    res.locals.x = locales.x;\r\n}\r\n\r\n"],[0,"module.e"]],"start1":1133,"start2":1133,"length1":16,"length2":82}]],"length":1475,"saved":false}
{"ts":1353113308571,"patch":[[{"diffs":[[0,"le: role"],[1,",\r\n        x: locales.x        "],[0,"\r\n    },"]],"start1":1382,"start2":1382,"length1":16,"length2":47},{"diffs":[[0," {\r\n"],[-1,"        x: locales.x,\r\n"],[0,"    "]],"start1":1449,"start2":1449,"length1":31,"length2":8}]],"length":1483,"saved":false}
{"ts":1353113342947,"patch":[[{"diffs":[[0,"ext);\r\n}\r\n\r\n"],[1,"var md = function(req, res) {\r\n    res.locals.md = function(markdownText) {\r\n        return markdown.toHTML(markdownText);\r\n    }\r\n}\r\n"],[0,"var x = func"]],"start1":1129,"start2":1129,"length1":24,"length2":158}]],"length":1617,"saved":false}
{"ts":1353113365145,"patch":[[{"diffs":[[0,"  }\r\n}\r\n"],[1,"\r\n"],[0,"var x = "]],"start1":1267,"start2":1267,"length1":16,"length2":18},{"diffs":[[0," {\r\n"],[-1,"    dynamicHelpers: {\r\n    "],[0,"    "]],"start1":1359,"start2":1359,"length1":35,"length2":8},{"diffs":[[0,"e,\r\n    "],[-1,"  "],[-1,"  "],[0,"request:"]],"start1":1386,"start2":1386,"length1":20,"length2":16},{"diffs":[[0,"quest,\r\n"],[-1,"    "],[0,"    hasM"]],"start1":1405,"start2":1405,"length1":20,"length2":16},{"diffs":[[0,"sMessages,\r\n"],[-1,"    "],[0,"    messages"]],"start1":1432,"start2":1432,"length1":28,"length2":24},{"diffs":[[0,"sages,\r\n"],[-1,"    "],[0,"    role"]],"start1":1461,"start2":1461,"length1":20,"length2":16},{"diffs":[[0,"e,\r\n    "],[-1,"   "],[-1," "],[0,"x: local"]],"start1":1482,"start2":1482,"length1":20,"length2":16},{"diffs":[[0,"es.x"],[1,","],[0,"    "],[-1,"    \r\n    },\r\n    staticHelpers: {"],[0,"\r\n"],[-1,"    "],[0,"    "]],"start1":1498,"start2":1498,"length1":52,"length2":15},{"diffs":[[0,"wn: md\r\n"],[-1,"    }\r\n"],[0,"}"]],"start1":1519,"start2":1519,"length1":16,"length2":9}]],"length":1528,"saved":false}
{"ts":1353113643483,"patch":[[{"diffs":[[0,"\n    x: "],[-1,"locales."],[0,"x,    \r\n"]],"start1":1485,"start2":1485,"length1":24,"length2":16}]],"length":1520,"saved":false}
{"ts":1353113809144,"patch":[[{"diffs":[[0,"function(req"],[-1,", res"],[0,"){\r\n"],[1,"  "],[0,"    if (!req"]],"start1":193,"start2":193,"length1":33,"length2":30},{"diffs":[[0,"on) "],[-1,"{\r\n        res.locals.hasMessages = false;\r\n    } else {\r\n        res.locals.hasMessages ="],[1,"return false;\r\n      return"],[0," Obj"]],"start1":229,"start2":229,"length1":98,"length2":35},{"diffs":[[0,"h;\r\n    "],[-1,"}\r\n"],[0,"};\r\n\r\nva"]],"start1":303,"start2":303,"length1":19,"length2":16},{"diffs":[[0,"(req"],[-1,", res"],[0,"){\r\n"],[1,"  "],[0,"    re"],[-1,"s.locals.msgs ="],[1,"turn"],[0," fun"]],"start1":340,"start2":340,"length1":38,"length2":24},{"diffs":[[0,"s;\r\n"],[1,"      };\r\n"],[0,"    };\r"],[-1,"\n};\r"],[0,"\n\r\nv"]],"start1":598,"start2":598,"length1":19,"length2":25},{"diffs":[[0,"      re"],[-1,"s.locals.role ="],[1,"turn"],[0," null;\r\n"]],"start1":731,"start2":731,"length1":31,"length2":20},{"diffs":[[0,"  re"],[-1,"s.locals.role ="],[1,"turn"],[0," req"]],"start1":760,"start2":760,"length1":23,"length2":12},{"diffs":[[0,"\r\n\r\n"],[-1,"var md = function(req, res) {\r\n    res.locals.md = function(markdownText) {\r\n        return markdown.toHTML(markdownText);\r\n    }\r\n}\r\n\r\nvar x = function(req, res) {\r\n    res.locals.x = locales.x;\r\n}"],[1,"/**\r\n * Ordinal returns a number in ordinal form (ie: 1st, 2nd, 3rd, etc).\r\n * @param number the number to be ordinated.\r\n **/\r\nvar ordinal = function(number) {\r\n    if (10 < number && number < 14) return number + 'th';\r\n    switch (number % 10) {\r\n        case 1: return number + 'st';\r\n        case 2: return number + 'nd';\r\n        case 3: return number + 'rd';\r\n        default: return number + 'th';\r\n    }\r\n};\r\n"],[0,"\r\n\r\n"]],"start1":1038,"start2":1038,"length1":206,"length2":425},{"diffs":[[0,"xports = {\r\n"],[1,"    dynamicHelpers: {\r\n    "],[0,"    navActiv"]],"start1":1471,"start2":1471,"length1":24,"length2":51},{"diffs":[[0,"e,\r\n    "],[1,"  "],[1,"  "],[0,"request:"]],"start1":1533,"start2":1533,"length1":16,"length2":20},{"diffs":[[0,"t,\r\n    "],[1,"  "],[1,"  "],[0,"hasMessa"]],"start1":1560,"start2":1560,"length1":16,"length2":20},{"diffs":[[0,"sMessages,\r\n"],[1,"    "],[0,"    messages"]],"start1":1587,"start2":1587,"length1":24,"length2":28},{"diffs":[[0,"s,\r\n    "],[1,"  "],[1,"  "],[0,"role: ro"]],"start1":1624,"start2":1624,"length1":16,"length2":20},{"diffs":[[0,"role"],[-1,",\r\n    x: x,"],[1,"\r\n    },\r\n    staticHelpers: {\r\n        x: locales.x,\r\n"],[0,"    "],[-1,"\r\n"],[0,"    "]],"start1":1642,"start2":1642,"length1":26,"length2":67},{"diffs":[[0,"down: md"],[1,",\r\n        ordinal: ordinal\r\n    }"],[0,"\r\n}"]],"start1":1713,"start2":1713,"length1":11,"length2":45}]],"length":1758,"saved":false}
{"ts":1353113903434,"patch":[[{"diffs":[[0,"ion(req, res"],[1,", next"],[0,") {\r\n  res.l"]],"start1":815,"start2":815,"length1":24,"length2":30},{"diffs":[[0," '>';\r\n  }\r\n"],[1,"  next();\r\n"],[0,"};\r\n\r\nvar md"]],"start1":947,"start2":947,"length1":24,"length2":35},{"diffs":[[0,"\r\n};\r\n\r\n"],[1,"var dynamicHelpers = function(req, res, next) {\r\n    navActive(req, res, next);\r\n};\r\n"],[0,"\r\nmodule"]],"start1":1470,"start2":1470,"length1":16,"length2":101}]],"length":1860,"saved":false}
{"ts":1353114053116,"patch":[[{"diffs":[[0,"\r\n\r\nvar "],[-1,"dynamicH"],[1,"h"],[0,"elpers ="]],"start1":1474,"start2":1474,"length1":24,"length2":17},{"diffs":[[0,"    "],[-1,"navActive(req, res,"],[1,"res.locals.x = locales.x;\r\n    res.locals.markdown = md;\r\n    res.locals.ordinal = ordinal;\r\n   "],[0," next"],[1,"("],[0,");\r\n"]],"start1":1520,"start2":1520,"length1":32,"length2":110},{"diffs":[[0,"    "],[-1,"staticH"],[1,"h"],[0,"elpers: "],[-1,"{\r\n        x: locales.x,\r\n        markdown: md,\r\n        ordinal: ordinal\r\n    }"],[1,"helpers"],[0,"\r\n}"]],"start1":1829,"start2":1829,"length1":102,"length2":23}]],"length":1852,"saved":false}
{"ts":1353114202972,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"var request = function(req){\r\n      return req;\r\n    };\r\n\r\n"],[0,"var "]],"start1":112,"start2":112,"length1":67,"length2":8},{"diffs":[[0,"l;\r\n    "],[-1,"next("],[1,"res.locals.request = req;\r\n    res.locals.hasMessages = (function(req) {\r\n        if (!req.session) {\r\n            return false;\r\n        } else {\r\n            return Object.keys(req.session.flash || {}).length;\r\n        }\r\n    });\r\n    res.locals.role = (function(req) {\r\n        if (_.isNull(req.session.role) || _.isUndefined(req.session.role)) {\r\n            return null;\r\n        }\r\n        return req.session.role;        \r\n    }"],[0,");\r\n};\r\n"]],"start1":1554,"start2":1554,"length1":21,"length2":451}]],"length":2223,"saved":false}
{"ts":1353114204210,"patch":[[{"diffs":[[0," \r\n    });\r\n"],[1,"    \r\n"],[0,"};\r\n\r\nmodule"]],"start1":1989,"start2":1989,"length1":24,"length2":30}]],"length":2229,"saved":false}
{"ts":1353114216167,"patch":[[{"diffs":[[0," {\r\n"],[-1,"    dynamicHelpers: {\r\n        navActive: navActive,\r\n        request: request,\r\n        hasMessages: hasMessages,\r\n        messages: messages,\r\n        role: role\r\n    },\r\n"],[0,"    "]],"start1":2029,"start2":2029,"length1":181,"length2":8}]],"length":2056,"saved":false}
{"ts":1353114223449,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"var role = function(req, res) {\r\n    if (_.isNull(req.session.role) || _.isUndefined(req.session.role)) {\r\n        return null;\r\n    }\r\n    return req.session.role;\r\n};\r\n\r\n"],[0,"var "]],"start1":559,"start2":559,"length1":180,"length2":8}]],"length":1884,"saved":false}
{"ts":1353114226629,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"var hasMessages = function(req){\r\n      if (!req.session) return false;\r\n      return Object.keys(req.session.flash || {}).length;\r\n    };\r\n"],[0,"\r\nva"]],"start1":112,"start2":112,"length1":148,"length2":8}]],"length":1744,"saved":false}
{"ts":1353114255807,"patch":[[{"diffs":[[0,");\r\n    "],[1,"res.locals.messages = (function(req){\r\n        return function(){\r\n            var msgs = req.flash();\r\n            console.log(msgs);\r\n            /*\r\n            return Object.keys(msgs).reduce(function(arr, type){\r\n            return arr.concat(msgs[type]);\r\n            }, []);\r\n            */\r\n            return msgs;\r\n        };\r\n    });"],[0,"\r\n};\r\n\r\n"]],"start1":1685,"start2":1685,"length1":16,"length2":360}]],"length":2088,"saved":false}
{"ts":1353114259266,"patch":[[{"diffs":[[0,"     \r\n    });\r\n"],[1,"    \r\n"],[0,"    res.locals.m"]],"start1":1673,"start2":1673,"length1":32,"length2":38}]],"length":2094,"saved":false}
{"ts":1353114277068,"patch":[[{"diffs":[[0," var msgs = req."],[-1,"flash()"],[1,"session.messages"],[0,";\r\n            c"]],"start1":1777,"start2":1777,"length1":39,"length2":48}]],"length":2103,"saved":false}
{"ts":1353114282554,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    next();\r\n"],[0,"};\r\n\r\nmodule"]],"start1":2042,"start2":2042,"length1":24,"length2":37}]],"length":2116,"saved":false}
{"ts":1353114286810,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[1,"    \r\n"],[0,"    next();\r"]],"start1":2042,"start2":2042,"length1":24,"length2":30}]],"length":2122,"saved":false}
{"ts":1353114295045,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"\r\nvar messages = function(req){\r\n      return function(){\r\n        var msgs = req.flash();\r\n        console.log(msgs);\r\n        /*\r\n        return Object.keys(msgs).reduce(function(arr, type){\r\n          return arr.concat(msgs[type]);\r\n        }, []);\r\n        */\r\n        return msgs;\r\n      };\r\n    };\r\n\r\n"],[0,"var "]],"start1":112,"start2":112,"length1":315,"length2":8}]],"length":1815,"saved":false}
{"ts":1353114362961,"patch":[[{"diffs":[[0," });\r\n    \r\n"],[1,"    navActive(req, res, next);\r\n"],[0,"    next();\r"]],"start1":1741,"start2":1741,"length1":24,"length2":56}]],"length":1847,"saved":false}
{"ts":1353114367087,"patch":[[{"diffs":[[0,";\r\n    });\r\n"],[-1,"    \r\n"],[0,"    navActiv"]],"start1":1735,"start2":1735,"length1":30,"length2":24}]],"length":1841,"saved":false}
{"ts":1353114417165,"patch":[[{"diffs":[[0,"ts ="],[-1," {\r\n    helpers:"],[0," hel"]],"start1":1810,"start2":1810,"length1":24,"length2":8}]],"length":1825,"saved":false}
{"ts":1353114423382,"patch":[[{"diffs":[[0," helpers"],[-1,"\r\n}"],[1,";"]],"start1":1814,"start2":1814,"length1":11,"length2":9}]],"length":1823,"saved":false}
{"ts":1353114459884,"patch":[[{"diffs":[[0,"lpers = "],[1,"("],[0,"function"]],"start1":806,"start2":806,"length1":16,"length2":17},{"diffs":[[0,"  next();\r\n}"],[1,")"],[0,";\r\n\r\nmodule."]],"start1":1782,"start2":1782,"length1":24,"length2":25}]],"length":1825,"saved":false}
{"ts":1353114735878,"patch":[[{"diffs":[[0,"r helpers = "],[-1,"("],[0,"function(req"]],"start1":802,"start2":802,"length1":25,"length2":24},{"diffs":[[0,"xt();\r\n}"],[-1,")"],[0,";\r\n\r\nmod"]],"start1":1785,"start2":1785,"length1":17,"length2":16}]],"length":1823,"saved":false}
{"ts":1353114741889,"patch":[[{"diffs":[[0,"s, next) {\r\n"],[1,"    console.log(\"Using the middleware helpers\");\r\n"],[0,"    res.loca"]],"start1":830,"start2":830,"length1":24,"length2":74}]],"length":1873,"saved":false}
{"ts":1353114976484,"patch":[[{"diffs":[[0,";\r\n  }\r\n"],[-1,"  next();\r\n"],[0,"};\r\n\r\nva"]],"start1":273,"start2":273,"length1":27,"length2":16}]],"length":1862,"saved":false}
{"ts":1353114989123,"patch":[[{"diffs":[[0,"req, res"],[-1,", next"],[0,");\r\n    "]],"start1":1800,"start2":1800,"length1":22,"length2":16}]],"length":1856,"saved":false}
